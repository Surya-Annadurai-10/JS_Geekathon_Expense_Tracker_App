<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color: #20302E;
        }

        .chart{
          
          
        }
    </style>
</head>
<body>
    <div class="chart">
        <canvas id="myChart"></canvas>
      </div>
      
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      
      <script>
        const ctx = document.getElementById('myChart');
       
        const data = [
    {id : 0, category: 'Income', count: 1000 },
    {id : 1, category: 'Groceries', count: 2000 },
    {id : 2, category: 'Utilities', count: 1500 },
    {id : 3, category: 'Entertainment', count: 2500 },
    {id : 4, category: 'Study', count: 2200 },
    { id : 5,category: 'Medicine', count: 3000 },
    { id : 6,category: 'Miscellaneous', count: 2800 },
  ];

  const category = data.map(ele => ele.category.toLowerCase());
  console.log(category)


        const arr = [
            {date:30 , month:11, year:2024, category:'groceries', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'utilities', name:'tomato', type:'expenses', amount:400},
            {date:30 , month:11, year:2024, category:'groceries', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'income', name:'tomato', type:'income', amount:2000},
            {date:30 , month:11, year:2024, category:'groceries', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'entertainment', name:'tomato', type:'expenses', amount:400},
            {date:30 , month:11, year:2024, category:'income', name:'tomato', type:'income', amount:1500},
            {date:30 , month:11, year:2024, category:'groceries', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'study', name:'tomato', type:'expenses', amount:400},
            {date:30 , month:11, year:2024, category:'income', name:'tomato', type:'income', amount:1000},
            {date:30 , month:11, year:2024, category:'utilities', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'miscellaneous', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'miscellaneous', name:'tomato', type:'expenses', amount:400},
            {date:30 , month:11, year:2024, category:'medical', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'medical', name:'tomato', type:'expenses', amount:400},
            {date:30 , month:11, year:2024, category:'study', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'utilities', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'entertainment', name:'tomato', type:'expenses', amount:500},
            {date:30 , month:11, year:2024, category:'utilities', name:'tomato', type:'expenses', amount:200},
            {date:30 , month:11, year:2024, category:'entertainment', name:'tomato', type:'expenses', amount:1000}
        ]

        for(let i = 0; i < category.length; i++){
            let value = arr.filter((ele) =>{
                return ele.category == category[i];
            }).reduce((acc , curr) =>{
                return acc + curr.amount;
            },0);

           data[i].count += value; 
        }


  
      
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: data.map(yr => yr.category),
            datasets: [{
              label: '# Revenue Flow',
              data: data.map(value => value.count),
              backgroundColor : ['rgb(139,121,241,1)','rgb(139,121,241,0.5)','rgb(139,121,241,0.5)','rgb(139,121,241,0.5)','rgb(139,121,241,0.5)','rgb(139,121,241,0.5)','rgb(139,121,241,0.5)'],
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      </script>
      
</body>
</html>